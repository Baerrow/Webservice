{% extends '::base.html.twig' %}

{% block body -%}
{% if app.session.get('filter') is not null and admin == true %}
    <h1>Liste d'utilisateurs</h1>
    <a href="{{ path('users_new') }}" > 
        <button class="btn">Ajouter un nouvel utilisateur</button>
    </a>

    <table class="records_list table table-striped datable">
        <thead> 
            <tr>
                <th>Login</th>
                <th>Mail</th>
                <th>Statut</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            <tr>
                <td><a href="{{ path('users_show', { 'id': entity.id }) }}">{{ entity.login }}</a></td>
                <td>{{ entity.mail }}</td>
                <td>
                    {% if entity.isAdmin %}
                        Administrateur
                    {% else %}
                        Membre
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <h2>Il n'y a rien pour vous ici</h2>
{% endif %}
    {% endblock %}
